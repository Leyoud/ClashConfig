---
# Download https://raw.gitmirror.com/Leyoud/LEYOUD/master/Clash/config/user_config_ChineseMainland.yaml
#
#-------------------------------------------------------------#
# cfw General (Home Directory/config.yaml)
mixed-port: 7890
external-ui: ./
log-level: info
allow-lan: false
bind-address: "*"
external-controller: 127.0.0.1:9090
secret: ""
ipv6: false
#-------------------------------------------------------------#
# cfw Profiles (Home Directory/profiles/xxxx.yaml)
mode: rule
authentication: []
interface-name: ""

dns:
  {
    enable: true, listen: 0.0.0.0:53, ipv6: true, use-hosts: true,

    enhanced-mode: fake-ip, fake-ip-range: 198.18.0.1/16, fake-ip-filter: ["*.msftncsi.com", "*.msftconnecttest.com"],

    nameserver: [tls://dns.alidns.com:853, https://dns.alidns.com/dns-query]
  }

hosts: { localhost: 127.0.0.1, hanime1.me: 104.26.1.18, "+.hanime1.me": 172.67.69.183}

tun: { enable: true, stack: gvisor, auto-route: true, auto-detect-interface: true, dns-hijack: [any:53] }

proxies: [ { name: ğŸ¶ è§£é”ç½‘æ˜“äº‘ç°è‰²æ­Œæ›²(æœ¬åœ°), type: http, server: 127.0.0.1, port: 8080 } ]

proxy-groups:
  - {
      name: ğŸ¶ ç½‘æ˜“éŸ³ä¹, type: select, proxies: [DIRECT, ğŸ¶ è§£é”ç½‘æ˜“äº‘ç°è‰²æ­Œæ›²(æœ¬åœ°)]
    }

  - {
      name: ğŸ¯ å…¨çƒç›´è¿, type: select, proxies: [DIRECT, REJECT]
    }

  - {
      name: ğŸ† å…¨çƒæ‹¦æˆª, type: select, proxies: [REJECT, DIRECT]
    }

rule-providers:
    Lan:
        type: http
        behavior: classical
        path: ./providers/rule/Lan.yaml
        url: https://raw.gitmirror.com/blackmatrix7/ios_rule_script/master/rule/Clash/Lan/Lan.yaml
        interval: 86400

    ProcessNameDirectlist:
        type: http
        behavior: classical
        path: ./providers/rule/ProcessNameDirectlist.yaml
        url: https://raw.gitmirror.com/Leyoud/LEYOUD/master/Clash/rules/ProcessNameDirectlist.yaml
        interval: 86400
    Advertising:
        type: http
        behavior: classical
        path: ./providers/rule/Advertising.yaml
        url: https://raw.gitmirror.com/blackmatrix7/ios_rule_script/master/rule/Clash/Advertising/Advertising_Classical.yaml
        interval: 86400

    AdvertisingAppend:
        type: http
        behavior: classical
        path: ./providers/rule/AdvertisingAppend.yaml
        url: https://raw.gitmirror.com/Leyoud/LEYOUD/master/Clash/rules/AdvertisingAppend.yaml
        interval: 86400
    NeteaseMusic:
        type: http
        behavior: classical
        path: ./providers/rule/NetEaseMusic.yaml
        url: https://raw.gitmirror.com/blackmatrix7/ios_rule_script/master/rule/Clash/NetEaseMusic/NetEaseMusic.yaml
        interval: 86400

    ChinaIPs:
        type: http
        behavior: classical
        path: ./providers/rule/ChinaIPs.yaml
        url: https://raw.gitmirror.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaIPs/ChinaIPs_Classical.yaml
        interval: 86400

rules:
  - RULE-SET,Lan,DIRECT
  - RULE-SET,ProcessNameDirectlist,DIRECT
  - DOMAIN,boxer.baidu.com,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Advertising,ğŸ† å…¨çƒæ‹¦æˆª
  - RULE-SET,AdvertisingAppend,ğŸ† å…¨çƒæ‹¦æˆª
  - PROCESS-NAME,cloudmusic.exe,ğŸ¶ ç½‘æ˜“éŸ³ä¹
  - PROCESS-NAME,com.netease.cloudmusic,ğŸ¶ ç½‘æ˜“éŸ³ä¹
  - RULE-SET,NeteaseMusic,ğŸ¶ ç½‘æ˜“éŸ³ä¹
  - RULE-SET,ChinaIPs,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  - GEOIP,CN,ğŸ¯ å…¨çƒç›´è¿
  - MATCH,ğŸ¯ å…¨çƒç›´è¿
